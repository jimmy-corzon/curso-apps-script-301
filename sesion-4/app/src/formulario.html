<!DOCTYPE html>
<html>
  <head>
    <base target="_top" />
    <!-- Usando Bootstrap para un look limpio -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  </head>
  <body class="d-flex align-items-center justify-content-center vh-100 bg-light">
    <div class="card p-4 shadow" style="width: 400px">
      <h3 class="card-title text-center mb-4">Env√≠anos un Mensaje</h3>

      <!-- El action del formulario es la URL de nuestra propia Web App -->
      <form method="post" action="<?= ScriptApp.getService().getUrl() ?>">
        <!--   const asunto = e.parameter.asunto;
  const email = e.parameter.email;
  const evento = e.parameter.evento;
  const fecha_inicio = e.parameter.fecha_inicio;
  const fecha_fin = e.parameter.fecha_fin;
  const invitados = e.parameter.invitados ? (e.parameter.invitados as string).split(",").map((inv) => inv.trim()) : []; -->
        <div class="mb-3">
          <label for="asunto" class="form-label">Asunto</label>
          <input type="text" class="form-control" id="asunto" name="asunto" required />
        </div>

        <div class="mb-3">
          <label for="email" class="form-label">Tu email</label>
          <input type="text" class="form-control" id="email" name="email" required value="<?= Session.getActiveUser().getEmail() ?>" />
        </div>

        <div class="mb-3">
          <label for="evento" class="form-label">Evento</label>
          <textarea class="form-control" id="evento" name="evento" rows="3" required></textarea>
        </div>

        <div class="mb-3">
          <label for="fecha_inicio" class="form-label">Fecha Inicio</label>
          <input type="datetime-local" class="form-control" id="fecha_inicio" name="fecha_inicio" required />
        </div>

        <div class="mb-3">
          <label for="fecha_fin" class="form-label">Fecha Fin</label>
          <input type="datetime-local" class="form-control" id="fecha_fin" name="fecha_fin" required />
        </div>

        <div class="mb-3">
          <label for="invitados" class="form-label">Invitados (separados por comas)</label>
          <input type="text" class="form-control" id="invitados" name="invitados" />
        </div>

        <button type="submit" class="btn btn-primary w-100">Enviar Datos</button>
      </form>
    </div>
  </body>
</html>
